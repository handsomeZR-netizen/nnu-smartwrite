# Netlify å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ä¸€é”®éƒ¨ç½²æŒ‰é’®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä¸ºé¡¹ç›®æ·»åŠ ä¸€é”®éƒ¨ç½²æŒ‰é’®ï¼Œå¯ä»¥åœ¨ README.md ä¸­æ·»åŠ ï¼š

```markdown
[![Deploy to Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/YOUR_USERNAME/nnu-smartwrite)
```

## ç¯å¢ƒå˜é‡é…ç½®

### åœ¨ Netlify Dashboard è®¾ç½®

1. è¿›å…¥ä½ çš„ç«™ç‚¹
2. ç‚¹å‡» **Site configuration** â†’ **Environment variables**
3. ç‚¹å‡» **Add a variable**
4. æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```
Key: DEEPSEEK_API_KEY
Value: sk-your-actual-api-key-here
Scopes: All scopes (æˆ–é€‰æ‹© Production)
```

```
Key: NEXT_PUBLIC_APP_URL
Value: https://your-site.netlify.app
Scopes: All scopes
```

### ä½¿ç”¨ Netlify CLI è®¾ç½®ï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£… Netlify CLI
npm install -g netlify-cli

# ç™»å½•
netlify login

# é“¾æ¥åˆ°ç«™ç‚¹
netlify link

# è®¾ç½®ç¯å¢ƒå˜é‡
netlify env:set DEEPSEEK_API_KEY "sk-your-key-here"
netlify env:set NEXT_PUBLIC_APP_URL "https://your-site.netlify.app"
```

## æ„å»ºé…ç½®

### è‡ªåŠ¨æ£€æµ‹

Netlify ä¼šè‡ªåŠ¨è¯»å– `netlify.toml` æ–‡ä»¶ä¸­çš„é…ç½®ã€‚

### æ‰‹åŠ¨é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼Œå¯ä»¥åœ¨ Netlify Dashboard æ‰‹åŠ¨è®¾ç½®ï¼š

**Site configuration** â†’ **Build & deploy** â†’ **Build settings**

- **Base directory**: `nnu-smartwrite`
- **Build command**: `npm run build`
- **Publish directory**: `nnu-smartwrite/.next`
- **Functions directory**: `nnu-smartwrite/.netlify/functions`

## éƒ¨ç½²åˆ†æ”¯ç­–ç•¥

### ç”Ÿäº§éƒ¨ç½²

- **åˆ†æ”¯**: `main` æˆ– `master`
- **è‡ªåŠ¨éƒ¨ç½²**: æ¨é€åˆ°ä¸»åˆ†æ”¯æ—¶è‡ªåŠ¨è§¦å‘
- **URL**: ä¸»åŸŸåï¼ˆå¦‚ `https://nnu-smartwrite.netlify.app`ï¼‰

### é¢„è§ˆéƒ¨ç½²

- **åˆ†æ”¯**: ä»»ä½•éä¸»åˆ†æ”¯ï¼ˆå¦‚ `dev`, `feature/*`ï¼‰
- **è‡ªåŠ¨éƒ¨ç½²**: æ¨é€æ—¶è‡ªåŠ¨åˆ›å»ºé¢„è§ˆ
- **URL**: å”¯ä¸€çš„é¢„è§ˆ URLï¼ˆå¦‚ `https://deploy-preview-123--nnu-smartwrite.netlify.app`ï¼‰

### Pull Request éƒ¨ç½²

- æ¯ä¸ª PR è‡ªåŠ¨åˆ›å»ºé¢„è§ˆéƒ¨ç½²
- åœ¨ PR ä¸­æ˜¾ç¤ºéƒ¨ç½²çŠ¶æ€å’Œé¢„è§ˆé“¾æ¥
- åˆå¹¶åè‡ªåŠ¨æ¸…ç†

## å¸¸ç”¨å‘½ä»¤

### æœ¬åœ°æµ‹è¯•ç”Ÿäº§æ„å»º

```bash
# æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### ä½¿ç”¨ Netlify CLI æœ¬åœ°æµ‹è¯•

```bash
# å®‰è£… Netlify CLI
npm install -g netlify-cli

# æœ¬åœ°è¿è¡Œï¼ˆæ¨¡æ‹Ÿ Netlify ç¯å¢ƒï¼‰
netlify dev

# æœ¬åœ°æµ‹è¯•æ„å»º
netlify build

# éƒ¨ç½²åˆ° Netlify
netlify deploy

# éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
netlify deploy --prod
```

## éƒ¨ç½²çŠ¶æ€æ£€æŸ¥

### åœ¨ Netlify Dashboard

1. è¿›å…¥ **Deploys** é¡µé¢
2. æŸ¥çœ‹æœ€æ–°éƒ¨ç½²çŠ¶æ€
3. ç‚¹å‡»éƒ¨ç½²æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### éƒ¨ç½²çŠ¶æ€æ ‡è¯†

- ğŸŸ¢ **Published**: éƒ¨ç½²æˆåŠŸå¹¶å·²å‘å¸ƒ
- ğŸŸ¡ **Building**: æ­£åœ¨æ„å»ºä¸­
- ğŸ”´ **Failed**: æ„å»ºå¤±è´¥
- âšª **Queued**: ç­‰å¾…æ„å»º

## æŸ¥çœ‹æ—¥å¿—

### æ„å»ºæ—¥å¿—

**Deploys** â†’ é€‰æ‹©éƒ¨ç½² â†’ **Deploy log**

### å‡½æ•°æ—¥å¿—

**Functions** â†’ é€‰æ‹©å‡½æ•° â†’ **Function log**

### å®æ—¶æ—¥å¿—ï¼ˆä½¿ç”¨ CLIï¼‰

```bash
netlify logs:function evaluate
```

## å›æ»šéƒ¨ç½²

å¦‚æœæ–°éƒ¨ç½²æœ‰é—®é¢˜ï¼š

1. è¿›å…¥ **Deploys** é¡µé¢
2. æ‰¾åˆ°ä¹‹å‰çš„ç¨³å®šéƒ¨ç½²
3. ç‚¹å‡» **Publish deploy** æŒ‰é’®
4. ç¡®è®¤å›æ»š

## è‡ªå®šä¹‰åŸŸå

### æ·»åŠ åŸŸå

1. **Site configuration** â†’ **Domain management**
2. ç‚¹å‡» **Add domain**
3. è¾“å…¥åŸŸåï¼ˆå¦‚ `smartwrite.nnu.edu.cn`ï¼‰
4. æŒ‰ç…§æç¤ºé…ç½® DNS

### DNS é…ç½®

**A è®°å½•**ï¼ˆæ ¹åŸŸåï¼‰:
```
Type: A
Name: @
Value: 75.2.60.5
```

**CNAME è®°å½•**ï¼ˆå­åŸŸåï¼‰:
```
Type: CNAME
Name: smartwrite
Value: your-site.netlify.app
```

### SSL è¯ä¹¦

Netlify è‡ªåŠ¨ä¸ºæ‰€æœ‰åŸŸåæä¾›å…è´¹çš„ Let's Encrypt SSL è¯ä¹¦ã€‚

## æ€§èƒ½ä¼˜åŒ–

### å¯ç”¨ Asset Optimization

**Site configuration** â†’ **Build & deploy** â†’ **Post processing**

- âœ… Bundle CSS
- âœ… Minify CSS
- âœ… Minify JS
- âœ… Compress images

### å¯ç”¨ Netlify Analyticsï¼ˆå¯é€‰ï¼‰

**Site configuration** â†’ **Analytics**

- æœåŠ¡å™¨ç«¯åˆ†æ
- æ— éœ€å®¢æˆ·ç«¯è„šæœ¬
- ä»˜è´¹åŠŸèƒ½

## ç›‘æ§å’Œè­¦æŠ¥

### éƒ¨ç½²é€šçŸ¥

**Site configuration** â†’ **Build & deploy** â†’ **Deploy notifications**

å¯ä»¥é…ç½®ï¼š
- Email é€šçŸ¥
- Slack é€šçŸ¥
- Webhook é€šçŸ¥

### è¡¨å•é€šçŸ¥ï¼ˆå¦‚æœä½¿ç”¨è¡¨å•ï¼‰

**Site configuration** â†’ **Forms** â†’ **Form notifications**

## æ•…éšœæ’æŸ¥

### æ„å»ºå¤±è´¥

1. æ£€æŸ¥æ„å»ºæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
2. ç¡®è®¤ Node ç‰ˆæœ¬æ­£ç¡®ï¼ˆ20ï¼‰
3. éªŒè¯æ‰€æœ‰ä¾èµ–å·²å®‰è£…
4. æœ¬åœ°è¿è¡Œ `npm run build` æµ‹è¯•

### ç¯å¢ƒå˜é‡é—®é¢˜

1. ç¡®è®¤å˜é‡åæ‹¼å†™æ­£ç¡®
2. å®¢æˆ·ç«¯å˜é‡å¿…é¡»ä»¥ `NEXT_PUBLIC_` å¼€å¤´
3. æ›´æ–°åéœ€è¦é‡æ–°éƒ¨ç½²
4. æ£€æŸ¥å˜é‡ä½œç”¨åŸŸï¼ˆProduction/Deploy Preview/Branch deploysï¼‰

### å‡½æ•°è¶…æ—¶

é»˜è®¤è¶…æ—¶ï¼š10 ç§’ï¼ˆå…è´¹å¥—é¤ï¼‰

å¦‚æœ API è°ƒç”¨è¶…æ—¶ï¼š
1. ä¼˜åŒ– API è°ƒç”¨é€»è¾‘
2. è€ƒè™‘å‡çº§åˆ° Pro å¥—é¤ï¼ˆ26 ç§’è¶…æ—¶ï¼‰
3. å®ç°é‡è¯•æœºåˆ¶

### 404 é”™è¯¯

1. æ£€æŸ¥ `netlify.toml` é‡å®šå‘è§„åˆ™
2. ç¡®è®¤ SPA fallback é…ç½®æ­£ç¡®
3. éªŒè¯è·¯ç”±é…ç½®

## æˆæœ¬ç®¡ç†

### å…è´¹å¥—é¤é™åˆ¶

- 100 GB å¸¦å®½/æœˆ
- 300 åˆ†é’Ÿæ„å»ºæ—¶é—´/æœˆ
- 125,000 æ¬¡å‡½æ•°è°ƒç”¨/æœˆ

### ç›‘æ§ä½¿ç”¨é‡

**Site configuration** â†’ **Usage**

### ä¼˜åŒ–å»ºè®®

- å¯ç”¨ç¼“å­˜å‡å°‘å‡½æ•°è°ƒç”¨
- ä¼˜åŒ–å›¾ç‰‡å‡å°‘å¸¦å®½
- ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº

## å®‰å…¨æœ€ä½³å®è·µ

1. âœ… å®šæœŸè½®æ¢ API å¯†é’¥
2. âœ… å¯ç”¨ HTTPSï¼ˆè‡ªåŠ¨ï¼‰
3. âœ… é…ç½®å®‰å…¨å¤´ï¼ˆå·²åœ¨ `netlify.toml` ä¸­ï¼‰
4. âœ… é™åˆ¶å‡½æ•°è°ƒç”¨é¢‘ç‡
5. âœ… ç›‘æ§å¼‚å¸¸æµé‡

## å¤‡ä»½ç­–ç•¥

1. Git ä»“åº“ä½œä¸ºä»£ç å¤‡ä»½
2. Netlify ä¿ç•™æ‰€æœ‰å†å²éƒ¨ç½²
3. å®šæœŸå¯¼å‡ºç¯å¢ƒå˜é‡é…ç½®
4. ä¿å­˜ `netlify.toml` é…ç½®æ–‡ä»¶

## æ”¯æŒèµ„æº

- [Netlify æ–‡æ¡£](https://docs.netlify.com/)
- [Next.js éƒ¨ç½²æŒ‡å—](https://nextjs.org/docs/deployment)
- [Netlify ç¤¾åŒºè®ºå›](https://answers.netlify.com/)
- [Netlify çŠ¶æ€é¡µé¢](https://www.netlifystatus.com/)
